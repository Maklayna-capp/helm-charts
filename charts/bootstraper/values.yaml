### execute script on every node during startup
startup:
  enabled: true
  image:
    repository: gcr.io/google-containers/startup-script
    tag: v1

### add ssd GKE storage
storages:
  enabled: true

### add helm roles
tiller:
  enabled: true

### install letsencrypt issuer, certificates and CRDs for certmanager helm chart
# NOTE: cert manager chart does not install own CRDs (Apr 2019) so we have to prepare owns
certmanager:
  enabled: true
  namespace: default
  issuer:
    name: letsencrypt
    email: v@makeomatic.ca
  cloudflare:
    secretName: cloudflare-token
    email: tim@streamlayer.io
    token: f0f5c9616aaaf23fe5d4326e55480868d291b
  certificates:
    - name: internal-wild-crt
      namespace: default
      domains:
        - "*.internal.streamlayer.io"
        - internal.streamlayer.io
      dnsNames:
        - internal.streamlayer.io

ingresses:
  enabled: true
  items:
    - name: concourse-ci-web
      namespace: default
      host: concourse.internal.streamlayer.io
      serviceName: concourse-ci-web
      servicePort: 8080
      secretName: internal-wild-crt
      auth: true

basic:
  enabled: true
  host: basic.internal.streamlayer.io
  # htpasswd -c auth foo
  auth:
  - user:$apr1$ZARIExzP$11iNQWtBgxfcPZcNUwSkx0
    user2:$apr1$1rF3nmAj$FxXI8VMUF2O1MK6op1rsk/
